{"is_source_file": true, "format": "Python", "description": "Test suite for the Flask backend of a network device management application. Includes mock database operations and API endpoint tests using pytest.", "external_files": ["app", "app.db", "app.resources", "pytest"], "external_methods": ["app.db.get_devices_collection", "app.resources.ping"], "published": [], "classes": [], "methods": [{"name": "_mock_collection_with_data(initial=None)", "description": "Creates a mock MongoDB collection with basic CRUD operations for testing.", "scope": "", "scopeKind": ""}, {"name": "client()", "description": "Fixture that provides a test client for the Flask app.", "scope": "", "scopeKind": ""}, {"name": "test_devices_list_empty(mock_get_col, client)", "description": "Tests retrieving empty list of devices.", "scope": "", "scopeKind": ""}, {"name": "test_create_device_success(mock_get_col, client)", "description": "Tests successful creation of a device via POST.", "scope": "", "scopeKind": ""}, {"name": "test_create_device_validation_error(mock_get_col, client)", "description": "Tests handling of validation errors during device creation.", "scope": "", "scopeKind": ""}, {"name": "test_get_device_not_found(mock_get_col, client)", "description": "Tests retrieving a device that does not exist.", "scope": "", "scopeKind": ""}, {"name": "test_update_device_success(mock_get_col, client)", "description": "Tests successful updating of a device.", "scope": "", "scopeKind": ""}, {"name": "test_update_device_validation_error(mock_get_col, client)", "description": "Tests validation error handling during device update.", "scope": "", "scopeKind": ""}, {"name": "test_delete_device_success(mock_get_col, client)", "description": "Tests successful deletion of a device.", "scope": "", "scopeKind": ""}, {"name": "test_ping_success(mock_ping, mock_get_col, client)", "description": "Tests successful ping response for an existing device.", "scope": "", "scopeKind": ""}, {"name": "test_ping_not_found(mock_ping, mock_get_col, client)", "description": "Tests ping request for a device that does not exist.", "scope": "", "scopeKind": ""}, {"name": "delete_one(query)", "scope": "_mock_collection_with_data", "scopeKind": "function", "description": "unavailable"}, {"name": "find(filter=None, projection=None)", "scope": "_mock_collection_with_data", "scopeKind": "function", "description": "unavailable"}, {"name": "find_one(query)", "scope": "_mock_collection_with_data", "scopeKind": "function", "description": "unavailable"}, {"name": "find_one_and_update(query, update, return_document=True)", "scope": "_mock_collection_with_data", "scopeKind": "function", "description": "unavailable"}, {"name": "insert_one(doc)", "scope": "_mock_collection_with_data", "scopeKind": "function", "description": "unavailable"}], "calls": ["app.db.get_devices_collection", "app.resources.ping", "pytest", "json.dumps"], "search-terms": ["test_api", "pytest", "Flask", "mocking", "MongoDB", "device", "network", "ping", "API endpoint tests"], "state": 2, "file_id": 14, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "_DelRes", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^    class _DelRes:$/", "file": true, "language": "Python", "kind": "class", "scope": "_mock_collection_with_data", "scopeKind": "function"}, {"_type": "tag", "name": "_mock_collection_with_data", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def _mock_collection_with_data(initial=None):$/", "language": "Python", "kind": "function", "signature": "(initial=None)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def client():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "delete_one", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^    def delete_one(query):$/", "file": true, "language": "Python", "kind": "function", "signature": "(query)", "scope": "_mock_collection_with_data", "scopeKind": "function"}, {"_type": "tag", "name": "deleted_count", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^        deleted_count = 0$/", "language": "Python", "kind": "variable", "scope": "_mock_collection_with_data._DelRes", "scopeKind": "class"}, {"_type": "tag", "name": "find", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^    def find(filter=None, projection=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(filter=None, projection=None)", "scope": "_mock_collection_with_data", "scopeKind": "function"}, {"_type": "tag", "name": "find_one", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^    def find_one(query):$/", "file": true, "language": "Python", "kind": "function", "signature": "(query)", "scope": "_mock_collection_with_data", "scopeKind": "function"}, {"_type": "tag", "name": "find_one_and_update", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^    def find_one_and_update(query, update, return_document=True):$/", "file": true, "language": "Python", "kind": "function", "signature": "(query, update, return_document=True)", "scope": "_mock_collection_with_data", "scopeKind": "function"}, {"_type": "tag", "name": "insert_one", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^    def insert_one(doc):$/", "file": true, "language": "Python", "kind": "function", "signature": "(doc)", "scope": "_mock_collection_with_data", "scopeKind": "function"}, {"_type": "tag", "name": "test_create_device_success", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_create_device_success(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}, {"_type": "tag", "name": "test_create_device_validation_error", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_create_device_validation_error(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}, {"_type": "tag", "name": "test_delete_device_success", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_delete_device_success(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}, {"_type": "tag", "name": "test_devices_list_empty", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_devices_list_empty(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}, {"_type": "tag", "name": "test_get_device_not_found", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_get_device_not_found(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}, {"_type": "tag", "name": "test_ping_not_found", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_ping_not_found(mock_ping, mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_ping, mock_get_col, client)"}, {"_type": "tag", "name": "test_ping_success", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_ping_success(mock_ping, mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_ping, mock_get_col, client)"}, {"_type": "tag", "name": "test_update_device_success", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_update_device_success(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}, {"_type": "tag", "name": "test_update_device_validation_error", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/tests/test_api.py", "pattern": "/^def test_update_device_validation_error(mock_get_col, client):$/", "language": "Python", "kind": "function", "signature": "(mock_get_col, client)"}], "hash": "26c6d0fc3c0971fbfccc9b8731391211", "format-version": 4, "code-base-name": "FlaskBackend", "filename": "FlaskBackend/tests/test_api.py", "fields": [{"name": "deleted_count = 0", "scope": "_mock_collection_with_data._DelRes", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"49": ""}]}