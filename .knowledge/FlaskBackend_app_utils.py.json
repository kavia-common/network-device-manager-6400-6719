{"is_source_file": true, "format": "Python", "description": "This file contains utility functions for managing network devices within a Flask-based backend application. It includes validation functions for device creation and updates, serialization of device documents, error response construction, and a timestamp helper.", "external_files": ["typing", "datetime", "ipaddress"], "external_methods": ["_is_valid_ip"], "published": ["validate_device_create", "validate_device_update", "serialize_device", "error_response", "current_timestamp_iso"], "classes": [], "methods": [{"name": "Tuple[bool,Dict[str,str]] validate_device_create(payload: Dict[str, Any])", "description": "Validates payload for creating a device, ensuring presence and correctness of name, ip, type, and location.", "scope": "", "scopeKind": ""}, {"name": "Tuple[bool,Dict[str,str]] validate_device_update(payload: Dict[str, Any])", "description": "Validates payload for updating a device, checking ip, type, location, and disallowing name updates.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] serialize_device(doc: Dict[str, Any])", "description": "Transforms a device document (e.g., from MongoDB) into an API response format by excluding internal ID and selecting relevant fields.", "scope": "", "scopeKind": ""}, {"name": "error_response(status: int, error: str, message: str, extra: Dict[str, Any] | None = None)", "description": "Builds a standardized error response JSON with status, error type, message, and optional extra data.", "scope": "", "scopeKind": ""}, {"name": "str current_timestamp_iso()", "description": "Returns the current UTC timestamp in ISO 8601 format with a trailing 'Z'.", "scope": "", "scopeKind": ""}, {"name": "bool _is_valid_ip(value: str)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["ipaddress.ip_address", "datetime.utcnow"], "search-terms": ["validate_device_create", "validate_device_update", "serialize_device", "error_response", "current_timestamp_iso", "ip address validation", "device validation", "device serialization", "Flask utility functions", "network device management"], "state": 2, "file_id": 9, "knowledge_revision": 19, "git_revision": "", "ctags": [{"_type": "tag", "name": "ALLOWED_TYPES", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^ALLOWED_TYPES = {\"Router\", \"Switch\", \"Server\"}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_is_valid_ip", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^def _is_valid_ip(value: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(value: str)"}, {"_type": "tag", "name": "current_timestamp_iso", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^def current_timestamp_iso() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "error_response", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^def error_response(status: int, error: str, message: str, extra: Dict[str, Any] | None = None):$/", "language": "Python", "kind": "function", "signature": "(status: int, error: str, message: str, extra: Dict[str, Any] | None = None)"}, {"_type": "tag", "name": "serialize_device", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^def serialize_device(doc: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(doc: Dict[str, Any])"}, {"_type": "tag", "name": "validate_device_create", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^def validate_device_create(payload: Dict[str, Any]) -> Tuple[bool, Dict[str, str]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,str]]", "kind": "function", "signature": "(payload: Dict[str, Any])"}, {"_type": "tag", "name": "validate_device_update", "path": "/home/kavia/workspace/code-generation/network-device-manager-6400-6719/FlaskBackend/app/utils.py", "pattern": "/^def validate_device_update(payload: Dict[str, Any]) -> Tuple[bool, Dict[str, str]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,str]]", "kind": "function", "signature": "(payload: Dict[str, Any])"}], "hash": "7e3d7729d84d26567091aab638f0393e", "format-version": 4, "code-base-name": "FlaskBackend", "filename": "FlaskBackend/app/utils.py", "fields": [{"name": "ALLOWED_TYPES = {\"Router\", \"Switch\", \"Server\"}", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19": ""}]}